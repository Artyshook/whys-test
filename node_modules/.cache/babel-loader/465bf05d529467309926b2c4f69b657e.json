{"ast":null,"code":"import _slicedToArray from\"C:/Users/Artem/Documents/React/whysTest/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Application}from'../components/Application';import{genericHookContextBuilder}from'../helpers/genericHookContextBuilder';import{useAnimation}from'framer-motion';import{useInView}from'react-intersection-observer';import{useStartAnimation}from'../helpers/startAnimation';import React,{useEffect,useState}from'react';import data from'../data.json';import{jsx as _jsx}from\"react/jsx-runtime\";var useLogicState=function useLogicState(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),articleData=_useState2[0],setArticleData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),commentData=_useState4[0],setCommentData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),moreCommentData=_useState6[0],setMoreCommentData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),darkMode=_useState8[0],setDarkMode=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useInView=useInView({triggerOnce:true}),_useInView2=_slicedToArray(_useInView,2),inViewRef=_useInView2[0],inView=_useInView2[1];var animation=useAnimation();var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loadMore=_useState12[0],setLoadMore=_useState12[1];//simulace získání dat asynchronním kódem z data.json\nuseEffect(function(){setLoading(true);setTimeout(function(){if(data){setArticleData(data.article[0]);setCommentData(data.comments);setMoreCommentData(data.moreComments);setLoading(false);}},1000);},[]);useStartAnimation(inView,animation);useStartAnimation(loadMore,animation);var handleClick=function handleClick(){setLoadMore(true);};return{articleData:articleData,commentData:commentData,moreCommentData:moreCommentData,darkMode:darkMode,loading:loading,inViewRef:inViewRef,animation:animation,loadMore:loadMore,handleClick:handleClick,setDarkMode:setDarkMode};};var _genericHookContextBu=genericHookContextBuilder(useLogicState),AppContextProvider=_genericHookContextBu.ContextProvider,AppContext=_genericHookContextBu.Context;export{AppContextProvider,AppContext};export var AppUseContext=function AppUseContext(){return/*#__PURE__*/_jsx(AppContextProvider,{children:/*#__PURE__*/_jsx(Application,{})});};","map":{"version":3,"names":["Application","genericHookContextBuilder","useAnimation","useInView","useStartAnimation","React","useEffect","useState","data","useLogicState","articleData","setArticleData","commentData","setCommentData","moreCommentData","setMoreCommentData","darkMode","setDarkMode","loading","setLoading","triggerOnce","inViewRef","inView","animation","loadMore","setLoadMore","setTimeout","article","comments","moreComments","handleClick","AppContextProvider","ContextProvider","AppContext","Context","AppUseContext"],"sources":["C:/Users/Artem/Documents/React/whysTest/src/pages/AplicationContext.tsx"],"sourcesContent":["import { Application } from '../components/Application'\r\nimport { genericHookContextBuilder } from '../helpers/genericHookContextBuilder'\r\nimport { useAnimation } from 'framer-motion'\r\nimport { useInView } from 'react-intersection-observer'\r\nimport { useStartAnimation } from '../helpers/startAnimation'\r\nimport React, { useEffect, useState } from 'react'\r\nimport data from '../data.json'\r\n\r\nexport type ArticleData = {\r\n  author: string\r\n  date: string\r\n  text: string\r\n}\r\nexport type CommentData = {\r\n  id: number\r\n  author: string\r\n  text: string\r\n  date: string\r\n}\r\n\r\nconst useLogicState = () => {\r\n  const [articleData, setArticleData] = useState({} as ArticleData)\r\n  const [commentData, setCommentData] = useState([] as CommentData[])\r\n  const [moreCommentData, setMoreCommentData] = useState([] as CommentData[])\r\n  const [darkMode, setDarkMode] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [inViewRef, inView] = useInView({ triggerOnce: true })\r\n  const animation = useAnimation()\r\n  const [loadMore, setLoadMore] = useState(false)\r\n\r\n  //simulace získání dat asynchronním kódem z data.json\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    setTimeout(() => {\r\n      if (data) {\r\n        setArticleData(data.article[0])\r\n        setCommentData(data.comments)\r\n        setMoreCommentData(data.moreComments)\r\n        setLoading(false)\r\n      }\r\n    }, 1000)\r\n  }, [])\r\n\r\n  useStartAnimation(inView, animation)\r\n  useStartAnimation(loadMore, animation)\r\n\r\n  const handleClick = () => {\r\n    setLoadMore(true)\r\n  }\r\n\r\n  return {\r\n    articleData,\r\n    commentData,\r\n    moreCommentData,\r\n    darkMode,\r\n    loading,\r\n    inViewRef,\r\n    animation,\r\n    loadMore,\r\n    handleClick,\r\n    setDarkMode,\r\n  }\r\n}\r\n\r\nexport const { ContextProvider: AppContextProvider, Context: AppContext } =\r\n  genericHookContextBuilder(useLogicState)\r\n\r\nexport const AppUseContext = () => {\r\n  return (\r\n    <AppContextProvider>\r\n      <Application />\r\n    </AppContextProvider>\r\n  )\r\n}\r\n"],"mappings":"6HAAA,OAASA,WAAT,KAA4B,2BAA5B,CACA,OAASC,yBAAT,KAA0C,sCAA1C,CACA,OAASC,YAAT,KAA6B,eAA7B,CACA,OAASC,SAAT,KAA0B,6BAA1B,CACA,OAASC,iBAAT,KAAkC,2BAAlC,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,KAAP,KAAiB,cAAjB,C,2CAcA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,cAAsCF,QAAQ,CAAC,EAAD,CAA9C,wCAAOG,WAAP,eAAoBC,cAApB,eACA,eAAsCJ,QAAQ,CAAC,EAAD,CAA9C,yCAAOK,WAAP,eAAoBC,cAApB,eACA,eAA8CN,QAAQ,CAAC,EAAD,CAAtD,yCAAOO,eAAP,eAAwBC,kBAAxB,eACA,eAAgCR,QAAQ,CAAC,KAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA8BV,QAAQ,CAAC,KAAD,CAAtC,0CAAOW,OAAP,gBAAgBC,UAAhB,gBACA,eAA4BhB,SAAS,CAAC,CAAEiB,WAAW,CAAE,IAAf,CAAD,CAArC,0CAAOC,SAAP,gBAAkBC,MAAlB,gBACA,GAAMC,UAAS,CAAGrB,YAAY,EAA9B,CACA,gBAAgCK,QAAQ,CAAC,KAAD,CAAxC,2CAAOiB,QAAP,gBAAiBC,WAAjB,gBAEA;AACAnB,SAAS,CAAC,UAAM,CACda,UAAU,CAAC,IAAD,CAAV,CACAO,UAAU,CAAC,UAAM,CACf,GAAIlB,IAAJ,CAAU,CACRG,cAAc,CAACH,IAAI,CAACmB,OAAL,CAAa,CAAb,CAAD,CAAd,CACAd,cAAc,CAACL,IAAI,CAACoB,QAAN,CAAd,CACAb,kBAAkB,CAACP,IAAI,CAACqB,YAAN,CAAlB,CACAV,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CAPS,CAOP,IAPO,CAAV,CAQD,CAVQ,CAUN,EAVM,CAAT,CAYAf,iBAAiB,CAACkB,MAAD,CAASC,SAAT,CAAjB,CACAnB,iBAAiB,CAACoB,QAAD,CAAWD,SAAX,CAAjB,CAEA,GAAMO,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBL,WAAW,CAAC,IAAD,CAAX,CACD,CAFD,CAIA,MAAO,CACLf,WAAW,CAAXA,WADK,CAELE,WAAW,CAAXA,WAFK,CAGLE,eAAe,CAAfA,eAHK,CAILE,QAAQ,CAARA,QAJK,CAKLE,OAAO,CAAPA,OALK,CAMLG,SAAS,CAATA,SANK,CAOLE,SAAS,CAATA,SAPK,CAQLC,QAAQ,CAARA,QARK,CASLM,WAAW,CAAXA,WATK,CAULb,WAAW,CAAXA,WAVK,CAAP,CAYD,CA1CD,CA4CO,0BACLhB,yBAAyB,CAACQ,aAAD,CADpB,CAAyBsB,kBAAzB,uBAAQC,eAAR,CAAsDC,UAAtD,uBAA6CC,OAA7C,C,sCAGP,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACjC,mBACE,KAAC,kBAAD,wBACE,KAAC,WAAD,IADF,EADF,CAKD,CANM"},"metadata":{},"sourceType":"module"}